{% extends 'base/go3base.html' %}
{% load i18n %}
{% load widget_tweaks %}

{% block title %}{% trans "Change Password" %}{% endblock title %}

{% block content %}
<div class="row">
    <div class="mx-auto col-lg-8 col-md-10 col-12">
        <div class="page-header">
            {% trans "Password Change" %} for {{ user.username }}
        </div>

        {% if form.errors %}
            <div class="row mt-4">
                <div class="col-12">
                    <p class="errornote">
                    {% if form.errors.items|length == 1 %}{% translate "Please correct the error below." %}{% else %}{% translate "Please correct the errors below." %}{% endif %}
                    </p>
                </div>
            </div>
        {% endif %}

        <div class="row mt-4">
            <div class="col-12">
            <form  class="form" role="form" method="post" >
                {% csrf_token %}
                    <div class="form-group">
                            {{ form.old_password.errors }}
                            {{ form.old_password.label_tag }} {{ form.old_password }}
                    </div>
                            
                    <div class="form-group">
                        {{ form.new_password1.errors }}
                        {{ form.new_password1.label_tag }} {{ form.new_password1 }}
                        {% if form.new_password1.help_text %}
                            <div class="help">{{ form.new_password1.help_text|safe }}</div>
                        {% endif %}
                    </div>
                            
                    <div class="form-group">
                        {{ form.new_password2.errors }}
                        {{ form.new_password2.label_tag }} {{ form.new_password2 }}
                        {% if form.new_password2.help_text %}
                            <div class="help">{{ form.new_password2.help_text|safe }}</div>
                        {% endif %}
                    </div>
                    <div class="form-group col-12 col-md-6 ml-auto text-right">
                        <a class="btn btn-secondary" href="{% url 'member-detail' %}">{% trans "Cancel" %}</a>
                        <button type="submit"  class="btn btn-primary">Change password</button>
                    </div>                                
                </form>
            </div>
        </div>
    </div>
</div>

{% endblock content %}
