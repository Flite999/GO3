{% load i18n %}
<div class="dropdown mr-2">
    <button type="button" class="btn btn-outline-secondary btn-sm dropdown-toggle text-center plan-button" data-toggle="dropdown" id="plan-{{plan.id}}" data-init="{{plan.status}}" aria-haspopup="true" aria-expanded="false">
        <!-- <i class="fas fa-spinner fa-pulse fa-lg"></i> -->
        <span class="htmx-indicator-replace">
            {% include "gig/plan_icon.html" with plan_value=plan.status %}
        </span>
        <span class="htmx-indicator">
            <i class="fa fa-spinner fa-spin fa-lg"></i>
        </span>
    </button>
    <div class="dropdown-menu" aria-labelledby="{{plan.id}}">
        <a class="dropdown-item" hx-get="{% url 'plan-update' pk=plan.id val=1 %}" hx-target="#plan-{{ plan.id }} span" hx-indicator="#plan-{{ plan.id }}">{% include "gig/plan_icon.html" with plan_value=1 %} {% trans "Definitely" %}</a>
        {% if not simple_planning %}
            <a class="dropdown-item" hx-get="{% url 'plan-update' pk=plan.id val=2 %}" hx-target="#plan-{{ plan.id }} span" hx-indicator="#plan-{{ plan.id }}">{% include "gig/plan_icon.html" with plan_value=2 %} {% trans "Probably" %}</a>
        {% endif %}
        <a class="dropdown-item" hx-get="{% url 'plan-update' pk=plan.id val=3 %}" hx-target="#plan-{{ plan.id }} span" hx-indicator="#plan-{{ plan.id }}">{% include "gig/plan_icon.html" with plan_value=3 %} {% trans "Don't Know" %}</a>
        {% if not simple_planning %}
            <a class="dropdown-item" hx-get="{% url 'plan-update' pk=plan.id val=4 %}" hx-target="#plan-{{ plan.id }} span" hx-indicator="#plan-{{ plan.id }}">{% include "gig/plan_icon.html" with plan_value=4 %} {% trans "Probably Not" %}</a>
        {% endif %}
        <a class="dropdown-item" hx-get="{% url 'plan-update' pk=plan.id val=5 %}" hx-target="#plan-{{ plan.id }} span" hx-indicator="#plan-{{ plan.id }}">{% include "gig/plan_icon.html" with plan_value=5 %} {% trans "Can't Do It" %}</a>
        {% if not simple_planning %}
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" hx-get="{% url 'plan-update' pk=plan.id val=6 %}" hx-target="#plan-{{ plan.id }} span" hx-indicator="#plan-{{ plan.id }}">{% include "gig/plan_icon.html" with plan_value=6 %} {% trans "Not Interested" %}</a>
        {% endif %}
    </div>
</div>
